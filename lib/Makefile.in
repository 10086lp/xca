#
#  @configure_input@
#
# $Id$

VERSION=@PACKAGE_VERSION@
TARGET=xca-$(VERSION)

GCC=@CXX@
CC=@CC@
MOC=@MOC@

CPPFLAGS=-I.. @CPPFLAGS@ @DEFS@
CFLAGS=@ac_CC_WARN@ @ac_DEBUG@

##############################################

NAMES=func asn1int asn1time x509name x509rev x509v3ext pass_info \
	pki_key pki_x509super pki_x509req pki_x509 \
	pki_pkcs12 pki_temp pki_crl pki_pkcs7 \
	db_base 

MOCNAMES=pki_base db_key db_x509super db_x509req db_x509 db_temp db_crl load_obj

OBJS=$(patsubst %, %.o, $(NAMES) $(MOCNAMES)) $(patsubst %, moc_%.o, $(MOCNAMES))
MOC_CPP=$(patsubst %,moc_%.cpp,$(MOCNAMES))

all: libpki.o

libpki.o: $(OBJS)
	$(LD) -r -o $@ $(OBJS)

clean:
	rm -rf *~ *.o *.a $(MOC_CPP)

distclean: clean
	rm -f Makefile base.h

include ../Rules.mak
  
